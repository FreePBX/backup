/*
 * FilePondPluginFileValidateType 1.0.2
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.FilePondPluginFileValidateType=n()}(this,function(){"use strict";var e=function(e){var n=e.addFilter,t=e.utils,i=t.Type,r=t.isString,o=t.guesstimateMimeType,u=t.getExtensionFromFilename,E=t.getFilenameFromURL,T=function(e,n){var t=(/^[^\/]+/.exec(e)||[]).pop(),i=n.slice(0,-2);return t===i},a=function(e,n){return e.some(function(e){return/\*$/.test(e)?T(n,e):e===n})},l=function(e,n){if(0===n.length)return!0;var t="";if(r(e)){var i=E(e),T=u(i);if(!T)return!0;t=o(T)}else t=e.type;return a(n,t)};return n("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})}),n("ALLOW_HOPPER_ITEM",function(e,n){var t=n.query;return!t("GET_ALLOW_FILE_TYPE_VALIDATION")||l(e,t("GET_ACCEPTED_FILE_TYPES"))}),n("LOAD_FILE",function(e,n){var t=n.query;return new Promise(function(n,i){var r=t("GET_ALLOW_FILE_TYPE_VALIDATION");if(!r)return void n(e);var o=t("GET_ACCEPTED_FILE_TYPES");return l(e,o)?void n(e):void i({status:{main:t("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:t("GET_ACCEPTED_FILE_TYPES").join(", ")}})})}),{options:{allowFileTypeValidation:[!0,i.BOOLEAN],acceptedFileTypes:[[],i.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",i.STRING]}}};return document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});